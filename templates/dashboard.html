{% extends "base.html" %}
{% block title %}Dashboard{% endblock %}
{% block content %}

<div class="container mt-4">
  <h2 class="text-center mb-4">Welcome to Your Dashboard</h2>

  <!-- Available Quizzes Section -->
  <div class="card mb-4">
    <div class="card-header bg-primary text-white">
      <h4>Available Quizzes</h4>
    </div>
    <div class="card-body">
      {% if quizzes %}
        <table class="table table-hover">
          <thead>
            <tr>
              <th>Title</th>
              <th>Description</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {% for quiz in quizzes %}
              <tr>
                <td>{{ quiz.title }}</td>
                <td>{{ quiz.description }}</td>
                <td>
                  <a href="{{ url_for('take_quiz.take_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-success">Take Quiz</a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p class="text-muted">No quizzes available yet.</p>
      {% endif %}
    </div>
  </div>

  <!-- Past Attempts Section -->
  <div class="card">
    <div class="card-header bg-secondary text-white">
      <h4>Your Past Attempts</h4>
    </div>
    <div class="card-body">
      {% if attempts %}
        <table class="table table-striped">
          <thead>
            <tr>
              <th>Quiz Title</th>
              <th>Score</th>
              <th>Total</th>
              <th>Date</th>
            </tr>
          </thead>
          <tbody>
            {% for attempt in attempts %}
              <tr>
                <td>{{ attempt.quiz.title }}</td>
                <td>{{ attempt.score }}</td>
                <td>{{ attempt.total }}</td>
                <td>{{ attempt.attempted_at.strftime("%Y-%m-%d %H:%M") }}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      {% else %}
        <p class="text-muted">You havenâ€™t attempted any quizzes yet.</p>
      {% endif %}
    </div>
  </div>
</div>

{% endblock %}
<thead>
  <tr>
    <th>Title</th>
    <th>Category</th>
    <th>Difficulty</th>
    <th>Actions</th>
  </tr>
</thead>
<tbody>
  {% for quiz in quizzes %}
    <tr>
      <td>{{ quiz.title }}</td>
      <td>{{ quiz.category }}</td>
      <td>{{ quiz.difficulty }}</td>
      <td>
        <a href="{{ url_for('take_quiz.take_quiz', quiz_id=quiz.id) }}" class="btn btn-sm btn-success">Take Quiz</a>
      </td>
    </tr>
  {% endfor %}
</tbody>
